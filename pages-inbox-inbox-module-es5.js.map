{"version":3,"sources":["webpack:///src/app/pages/inbox/inbox-routing.module.ts","webpack:///src/app/pages/inbox/inbox.component.html","webpack:///src/app/pages/inbox/inbox.component.ts","webpack:///src/app/pages/inbox/inbox.module.ts"],"names":["routes","path","component","InboxRoutingModule","forChild","imports","exports","InboxComponent","page","toastr","apiService","userService","formBuilder","usersList","submitted","fetchMessagesDetails","services","deliveryTime","messageText","getProfile","then","getMessageConnections","usersAutoFetch","userId","localStorage","getItem","proposalForm","group","body","required","cost","delivery_time_id","service_id","token","formData","FormData","messages","subscribe","res","console","log","users","current_user","all_user_unread_message","image_path","err","user","oppositeUser","delivery_times","set","id","connection_id","fetchMessages","fetchMessagesRes","messageAutoFetch","scrollToBottom","can_chat","warning","postMessage","status","fetchAutoInter","clearInterval","self","setInterval","fetchAutoInterUsers","myScrollContainer","nativeElement","scrollTop","scrollHeight","scroll","top","left","behavior","invalid","value","imageLoaded","image","$","modal","reset","contract_id","controls","event","target","files","length","dataTransfer","fileName","name","toUpperCase","endsWith","error","s","patchValue","click","imageMsg","imageLoadedMsg","sendFileMessage","importFile","sendContract","importMsgFile","selector","templateUrl","styleUrls","InboxModule","declarations"],"mappings":"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","file":"pages-inbox-inbox-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { InboxComponent } from './inbox.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InboxComponent,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class InboxRoutingModule { }\n","<app-header></app-header>\n\n<div>\n    <div class=\"mx-auto container\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <div class=\"row d-flex align-items-start\">\n                    <div class=\"col-md-4  messages pt-4\">\n                        <div class=\"\">\n                            <div class=\"nav list-group flex-md-column  nav-pills me-3\" id=\"v-pills-tab\" role=\"tablist\"\n                                aria-orientation=\"vertical\">\n                                <div class=\"row mb-3\">\n                                    <div class=\"col-md-8 col-8\">\n                                        <p><span class=\"fw-normal fs-4 me-2\" style=\"font-weight: 700;\">Inbox</span>\n                                            <!-- <span style=\"font-size: 14px;\">(98 messages)</span> -->\n                                        </p>\n                                    </div>\n                                    <div class=\"col-md-4 col-4 pt-2\">\n                                        <div class=\"text-end\">\n                                            <div type=\"button\" class=\" position-relative \"> <img\n                                                    src=\"./assets/images/Bell.png\" />\n                                                <span\n                                                    class=\"position-absolute top-0 start-1 translate-middle badge rounded-pill bg-primary\">\n                                                    {{all_user_unread_message}} <span class=\"visually-hidden\">unread\n                                                        messages</span> </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-md-9 col-9\">\n                                        <div class=\"d-grid gap-2 \">\n                                            <button class=\"btn text-white\" style=\"background-color: #00A3FF;\"\n                                                type=\"button\" [routerLink]=\"['/project-status']\">Active project</button>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-md-3 col-3 p-0\">\n                                        <div class=\"text-end\"> <img src=\"./assets/images/Filter.png\" alt=\"\"> </div>\n                                    </div>\n                                </div>\n                                <li class=\"nav-link active list-group-item \" id=\"v-pills-home-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-home\" type=\"button\" role=\"tab\" aria-controls=\"v-pills-home\"\n                                    aria-selected=\"true\" style=\"height: 70px;\" *ngFor=\"let u of usersList\"\n                                    (click)=\"fetchMessages(u)\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative chat-users\"> <img [src]=\"u.avatar_url\"\n                                                    class=\"img-fluid \" />\n                                                <span *ngIf=\"u.chat_status == 'online'\"\n                                                    class=\"position-absolute bottom-0 start-1 translate-middle p-1 border border-light rounded-circle profileDetailImg\"\n                                                    style=\"background-color: #00DD85;\"> <span\n                                                        class=\"visually-hidden\">New alerts</span>\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span\n                                                    style=\"font-weight: 800;\">{{u.name}}</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">{{u.last_message\n                                                    && u.last_message.message ? u.last_message.message : ''}}</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\">\n                                                <!-- <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span> -->\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\"\n                                                    *ngIf=\"u.unread\">{{u.unread}}</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li>\n                                <!-- <li class=\"nav-link list-group-item \" id=\"v-pills-profile-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-profile\" type=\"button\" role=\"tab\"\n                                    aria-controls=\"v-pills-profile\" aria-selected=\"false\" style=\"height: 70px;\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative\"> <img src=\"./assets/images/Oval1.png\"\n                                                    class=\"img-fluid \" />\n                                                <span\n                                                    class=\"position-absolute bottom-0 start-1 translate-middle border border-light rounded-circle profileDetailImg\"\n                                                    style=\"background-color: #00DD85;\"> <span\n                                                        class=\"visually-hidden\">New alerts</span>\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span style=\"font-weight: 800;\">Charlie\n                                                    Willson</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">Hey\n                                                    Iconspace</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\"> <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span>\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\">2</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class=\"nav-link list-group-item\" id=\"v-pills-messages-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-messages\" type=\"button\" role=\"tab\"\n                                    aria-controls=\"v-pills-messages\" aria-selected=\"false\" style=\"height: 70px;\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative\"> <img src=\"./assets/images/Oval1.png\"\n                                                    class=\"img-fluid \" />\n                                                <span\n                                                    class=\"position-absolute bottom-0 start-1 translate-middle p-1 border border-light rounded-circle profileDetailImg\"\n                                                    style=\"background-color: #00DD85;\"> <span\n                                                        class=\"visually-hidden\">New alerts</span>\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span style=\"font-weight: 800;\">Charlie\n                                                    Willson</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">Hey\n                                                    Iconspace</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\"> <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span>\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\">2</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class=\"nav-link list-group-item\" id=\"v-pills-settings-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-settings\" type=\"button\" role=\"tab\"\n                                    aria-controls=\"v-pills-settings\" aria-selected=\"false\" style=\"height: 70px;\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative\"> <img src=\"./assets/images/Oval1.png\"\n                                                    class=\"img-fluid \" />\n                                                <span\n                                                    class=\"position-absolute bottom-0 start-1 translate-middle p-1 border border-light rounded-circle profileDetailImg\"\n                                                    style=\"background-color: #00DD85;\"> <span\n                                                        class=\"visually-hidden\">New alerts</span>\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span style=\"font-weight: 500;\">Charlie\n                                                    Willson</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">Hey\n                                                    Iconspace</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\"> <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span>\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\">2</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class=\"nav-link list-group-item\" id=\"v-pills-chat-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-chat\" type=\"button\" role=\"tab\" aria-controls=\"v-pills-chat\"\n                                    aria-selected=\"false\" style=\"height: 70px;\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative\"> <img src=\"./assets/images/Oval1.png\"\n                                                    class=\"img-fluid \" />\n                                                <span\n                                                    class=\"position-absolute bottom-0 start-1 translate-middle p-1 border border-light rounded-circle profileDetailImg\"\n                                                    style=\"background-color: #00DD85;\"> <span\n                                                        class=\"visually-hidden\">New alerts</span>\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span style=\"font-weight: 500;\">Charlie\n                                                    Willson</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">Hey\n                                                    Iconspace</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\"> <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span>\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\">2</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class=\"nav-link list-group-item\" id=\"v-pills-chat-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-chat\" type=\"button\" role=\"tab\" aria-controls=\"v-pills-chat\"\n                                    aria-selected=\"false\" style=\"height: 70px;\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative\"> <img src=\"./assets/images/Oval1.png\"\n                                                    class=\"img-fluid \" />\n                                                <span\n                                                    class=\"position-absolute bottom-0 start-1 translate-middle p-1 border border-light rounded-circle profileDetailImg\"\n                                                    style=\"background-color: #00DD85;\"> <span\n                                                        class=\"visually-hidden\">New alerts</span>\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span style=\"font-weight: 500;\">Charlie\n                                                    Willson</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">Hey\n                                                    Iconspace</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\"> <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span>\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\">2</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li> \n                                <li class=\"nav-link list-group-item\" id=\"v-pills-chat-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-chat\" type=\"button\" role=\"tab\" aria-controls=\"v-pills-chat\"\n                                    aria-selected=\"false\" style=\"height: 70px;\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative\"> <img src=\"./assets/images/Oval1.png\"\n                                                    class=\"img-fluid \" />\n                                                <span\n                                                          class=\"position-absolute bottom-0 start-1 translate-middle p-1 border border-light rounded-circle profileDetailImg\"\n                                                          style=\"background-color: #00DD85;\">\n                                                          <span class=\"visually-hidden\">New alerts</span>\n                                                      </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span style=\"font-weight: 500;\">Charlie\n                                                    Willson</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">Hey\n                                                    Iconspace</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\"> <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span>\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\">2</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class=\"nav-link list-group-item\" id=\"v-pills-chat-tab\" data-bs-toggle=\"pill\"\n                                    data-bs-target=\"#v-pills-chat\" type=\"button\" role=\"tab\" aria-controls=\"v-pills-chat\"\n                                    aria-selected=\"false\" style=\"height: 70px;\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-2 col-2\">\n                                            <div class=\"position-relative\"> <img src=\"./assets/images/Oval1.png\"\n                                                    class=\"img-fluid \" />\n                                                <span\n                                                      class=\"position-absolute bottom-0 start-1 translate-middle p-1 border border-light rounded-circle profileDetailImg\"\n                                                      style=\"background-color: #00DD85;\">\n                                                      <span class=\"visually-hidden\">New alerts</span>\n                                                  </span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-9 col-9\">\n                                            <p style=\"line-height: 20px;\"><span style=\"font-weight: 500;\">Charlie\n                                                    Willson</span> <br />\n                                                <span class=\"text-secondary\" style=\"font-size: 14px;\">Hey\n                                                    Iconspace</span>\n                                            </p>\n                                        </div>\n                                        <div class=\"col-md-1 col-1\">\n                                            <p style=\"line-height: 20px;\"> <span class=\"text-secondary\"\n                                                    style=\"font-size: 14px;\">2m</span>\n                                                <br />\n                                                <span class=\"badge bg-primary rounded-circle\">2</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </li> -->\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-8 pos\" style=\"padding-bottom: 150px;\">\n                        <div class=\"tab-content \" id=\"v-pills-tabContent\" #scrollMe>\n                            <!-- Account setting -->\n                            <div class=\"tab-pane fade show active\" id=\"v-pills-home\" role=\"tabpanel\"\n                                aria-labelledby=\"v-pills-home-tab\">\n                                <div class=\"\">\n                                    <div class=\"fixed position bg-white pt-0\" style=\"position: fixed;\">\n                                        <div class=\"row border-bottom\" *ngIf=\"oppositeUser\">\n                                            <div class=\"col-md-8\">\n                                                <div class=\"row\">\n                                                    <div class=\"col-md-2 pe-0 user-msg-detsils\"> <img\n                                                            [src]=\"oppositeUser.avatar_url\" alt=\"\" srcset=\"\"> </div>\n                                                    <div class=\"col-md-10 ps-0\">\n                                                        <p style=\"line-height: 23px;\">{{oppositeUser.name}} <br />\n                                                            <span class=\"badge p-0 bg-success rounded-circle\"\n                                                                style=\"line-height: .75;\"\n                                                                *ngIf=\"fetchMessagesRes?.sender.chat_status == 'online'\">\n                                                                <span style=\"visibility: hidden;\">n</span> </span>\n                                                            <span class=\"badge p-0 bg-offline rounded-circle\"\n                                                                style=\"line-height: .75;\"\n                                                                *ngIf=\"fetchMessagesRes?.sender.chat_status != 'online'\">\n                                                                <span style=\"visibility: hidden;\">n</span> </span>\n                                                            {{fetchMessagesRes?.sender.chat_status == 'online' ?\n                                                            'Online' :\n                                                            'Offline'}}\n                                                        </p>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"col-md-4\">\n                                                <!-- <div class=\"text-end\"> <span\n                                                        class=\" p-2 badge bg-light shadow me-2 rounded-pill\"\n                                                        style=\"color: blue;\"> <i\n                                                            class=\"bi bi-camera-video-fill\"></i></span> <span\n                                                        class=\" p-2 badge bg-light rounded-pill shadow text-success\"> <i\n                                                            class=\"bi bi-telephone-fill\"></i></span> </div> -->\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div style=\"padding-top: 100px;\">\n                                        <div *ngFor=\"let msg of fetchMessagesDetails\">\n                                            <div class=\"row\" *ngIf=\"msg.from_user_id != current_user.id\">\n                                                <div class=\"col-md-8 \">\n                                                    <div class=\"\" *ngIf=\"msg.message_type == 3\">\n                                                        <!-- <p class=\"  \"><span\n                                                        class=\"bg-light text-dark p-3 border rounded-pill  mt-3 \">lorem\n                                                        ipsum dolor sit amet.</span> </p> -->\n                                                        <p class=\"rounded-pill \">\n                                                            <span\n                                                                class=\" bg-light text-dark p-3 rounded-pill d-inline-block  border mt-3 \">\n                                                                {{msg.message}}\n                                                            </span>\n                                                        </p>\n                                                        <p>{{msg.created_at | date: 'MMM d, h:mm:ss a'}}</p>\n                                                    </div>\n                                                    <div class=\"text-left\" *ngIf=\"msg.message_type == 4\">\n                                                        <img [src]=\"image_path && msg.file_name ? image_path + msg.file_name : ''\"\n                                                        onerror=\"this.src='assets/images/no-image.png';\" width=\"150\" alt=\"\">\n                                                        <p>{{msg.created_at | date: 'MMM d, h:mm:ss a'}}</p>\n                                                    </div>\n\n                                                    <div class=\"text-center\" *ngIf=\"msg.message_type == 8\">\n                                                        <span\n                                                                class=\" bg-light text-dark p-3 rounded-pill d-inline-block  border mt-3 \">\n                                                                {{msg.message}}\n                                                            </span>\n                                                        <p>{{msg.created_at | date: 'MMM d, h:mm:ss a'}}</p>\n                                                    </div>\n\n                                                    <div class=\"text-center\" *ngIf=\"msg.message_type == 9\">\n                                                        <span\n                                                                class=\" bg-light text-dark p-3 rounded-pill d-inline-block  border mt-3 \">\n                                                                {{msg.message}}\n                                                            </span>\n                                                        <p>{{msg.created_at | date: 'MMM d, h:mm:ss a'}}</p>\n                                                    </div>\n\n                                                    <div class=\"border border-1 mt-3\" *ngIf=\"msg.message_type == 6\">\n                                                        <p class=\"card-header fw-bold text-dark fs-5\"\n                                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.title\">\n                                                            {{fetchMessagesRes.job.title}}</p>\n                                                        <div class=\"card-body\">\n                                                            <p class=\"card-title\">Your Contract includes</p>\n                                                            <!-- <pre>{{msg | json}}</pre> -->\n                                                            <p *ngIf=\"msg.contract && msg.contract.amount\">Amount:\n                                                                ${{msg.contract.amount}}</p>\n                                                            <p class=\"card-text text-dark\"\n                                                                *ngIf=\"oppositeUser && oppositeUser.delivery_times && msg.contract\">\n                                                                <img src=\"./assets/images/Group2231.png\" alt=\"\"\n                                                                    srcset=\"\">\n\n                                                                <span *ngFor=\"let d of oppositeUser.delivery_times\">\n                                                                    <span *ngIf=\"msg.contract.delivery_time_id == d.id\">\n                                                                        {{d.name}} delivery</span>\n                                                                </span>\n                                                            </p>\n                                                            <div class=\"text-end\"> <a\n                                                                    *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.slug\"\n                                                                    [routerLink]=\"['/contract', fetchMessagesRes.job.slug]\"\n                                                                    class=\"btn btn-link text-decoration-none text-secondary\">View\n                                                                    Contract</a>\n                                                                <a href=\"javascript:void(0);\" class=\"btn\"\n                                                                    *ngIf=\"fetchMessagesRes && fetchMessagesRes.can_accept_contract == '1'\"\n                                                                    style=\"background:#00A3FF; color: white;\"\n                                                                    (click)=\"acceptContract(msg.contract_id)\">\n                                                                    Accept</a>\n                                                                <a href=\"javascript:void(0);\" class=\"btn\"\n                                                                    *ngIf=\"fetchMessagesRes && fetchMessagesRes.can_accept_contract == 0\"\n                                                                    style=\"background:#999999; color: rgb(255, 255, 255);\">\n                                                                    Accepted</a>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-4\"></div>\n                                            </div>\n                                            <div class=\"row\" *ngIf=\"msg.from_user_id == current_user.id\">\n                                                <div class=\"col-md-4\"></div>\n                                                <div class=\"col-md-8 mt-3 pr\">\n                                                    <div class=\"\" *ngIf=\"msg.message_type == 3\">\n                                                        <div>\n                                                            <p class=\"text-end rounded-pill \">\n                                                                <span\n                                                                    class=\" bg-primary text-white p-3 rounded-pill d-inline-block  border mt-3 \">{{msg.message}}</span>\n                                                            </p>\n                                                            <p class=\"text-end\">{{msg.created_at | date: 'MMM d, h:mm:ss\n                                                                a'}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"text-right\" *ngIf=\"msg.message_type == 4\">\n                                                        <img [src]=\"image_path && msg.file_name ? image_path + msg.file_name : ''\"\n                                                        onerror=\"this.src='assets/images/no-image.png';\" width=\"150\" alt=\"\">\n                                                        <p>{{msg.created_at | date: 'MMM d, h:mm:ss a'}}</p>\n                                                    </div>\n\n                                                    <div class=\"text-center\" *ngIf=\"msg.message_type == 8\">\n                                                        <span\n                                                                class=\" bg-light text-dark p-3 rounded-pill d-inline-block  border mt-3 \">\n                                                                {{msg.message}}\n                                                            </span>\n                                                        <p>{{msg.created_at | date: 'MMM d, h:mm:ss a'}}</p>\n                                                    </div>\n\n                                                    <div class=\"text-center\" *ngIf=\"msg.message_type == 9\">\n                                                        <span\n                                                                class=\" bg-light text-dark p-3 rounded-pill d-inline-block  border mt-3 \">\n                                                                {{msg.message}}\n                                                            </span>\n                                                        <p>{{msg.created_at | date: 'MMM d, h:mm:ss a'}}</p>\n                                                    </div>\n\n                                                    <div class=\"border border-1\" *ngIf=\"msg.message_type == 6\">\n                                                        <p class=\"card-header fw-bold text-dark fs-5\"\n                                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.title\">\n                                                            {{fetchMessagesRes.job.title}}</p>\n                                                        <div class=\"card-body\">\n                                                            <p class=\"card-title\">Your Contract includes</p>\n                                                            <p *ngIf=\"msg.contract && msg.contract.amount\">Amount:\n                                                                ${{msg.contract.amount}}</p>\n                                                            <p class=\"card-text text-dark\"\n                                                                *ngIf=\"oppositeUser && oppositeUser.delivery_times && msg.contract\">\n                                                                <img src=\"./assets/images/Group2231.png\" alt=\"\"\n                                                                    srcset=\"\">\n\n                                                                <span *ngFor=\"let d of oppositeUser.delivery_times\">\n                                                                    <span *ngIf=\"msg.contract.delivery_time_id == d.id\">\n                                                                        {{d.name}} delivery</span>\n                                                                </span>\n                                                            </p>\n\n                                                            <!-- <p class=\"card-text text-dark\"\n                                                                *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.delivery_time\">\n                                                                <img src=\"./assets/images/Group2231.png\" alt=\"\"\n                                                                    srcset=\"\">\n                                                                {{fetchMessagesRes.job.delivery_time.name}} delivery\n                                                            </p> -->\n                                                            <div class=\"text-end\">\n                                                                <a *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.slug\"\n                                                                    [routerLink]=\"['/contract', fetchMessagesRes.job.slug]\"\n                                                                    class=\"btn btn-link text-decoration-none text-secondary\">View\n                                                                    Contract</a>\n                                                                <a href=\"javascript:void(0);\" class=\"btn\"\n                                                                    *ngIf=\"fetchMessagesRes && fetchMessagesRes.can_withdraw_completed_contract == '1'\"\n                                                                    style=\"background:#00A3FF; color: white;\"> Withdraw\n                                                                    Contract</a>\n                                                                <!-- <a href=\"javascript:void(0);\" class=\"btn\"\n                                                                    *ngIf=\"fetchMessagesRes && fetchMessagesRes.can_accept_contract == '1' && \"\n                                                                    style=\"background:#00A3FF; color: white;\"\n                                                                    (click)=\"acceptContract(msg.contract_id)\">\n                                                                    Accept</a> -->\n                                                            </div>\n                                                            <p class=\"text-end\">{{msg.created_at | date: 'MMM d, h:mm:ss\n                                                                a'}}</p>\n                                                        </div>\n                                                    </div>\n\n                                                </div>\n                                            </div>\n\n                                        </div>\n\n                                        <div class=\"row\"\n                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.can_chat == 0 && fetchMessagesRes.is_customer == 0\">\n                                            <div class=\"col-md-4\"></div>\n                                            <div class=\"col-md-8 mt-3 pr\">\n                                                <div class=\"border border-1 mt-3\">\n                                                    <p class=\"card-header fw-bold text-dark fs-5\"> New contract request\n                                                    </p>\n                                                    <div class=\"card-body\">\n                                                        <p\n                                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.title\">\n                                                            {{fetchMessagesRes.job.title}}</p>\n                                                        <p\n                                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.contract_estimate_end\">\n                                                            Scheduling: {{fetchMessagesRes.job.contract_estimate_end |\n                                                            date : 'd MMM yyyy'}}</p>\n                                                        <p\n                                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.job && fetchMessagesRes.job.amount\">\n                                                            {{fetchMessagesRes.job.amount}}</p>\n                                                        <p class=\"card-title\">Accept this for message</p>\n                                                        <!-- <p class=\"card-text text-dark\"> <img\n                                                                src=\"./assets/images/Group2231.png\" alt=\"\" srcset=\"\"> 10\n                                                            days delivery</p> -->\n                                                        <div class=\"text-end\">\n                                                            <a href=\"javascript:void(0);\"\n                                                                class=\"btn btn-link text-decoration-none text-secondary\"\n                                                                (click)=\"declineChat()\">Decline</a>\n                                                            <a href=\"javascript:void(0);\" class=\"btn\"\n                                                                style=\"background:#00A3FF; color: white;\"\n                                                                (click)=\"acceptChat()\"> Accept</a>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div\n                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.can_chat == 0 && fetchMessagesRes.is_worker == 0\">\n                                            <h2 class=\"text-center\">You can start message after accept your request,\n                                            </h2>\n                                        </div>\n\n                                        <!-- <div class=\"row\">\n                                        <div class=\"col-md-8 \" style=\"padding-top: 100px;\">\n                                            <div class=\"\">\n                                                <p class=\"  \"><span\n                                                        class=\"bg-light text-dark p-3 border rounded-pill  mt-3 \">lorem\n                                                        ipsum dolor sit amet.</span> </p>\n                                                <p class=\"rounded-pill \"><span\n                                                        class=\" bg-light text-dark p-3 rounded-pill d-inline-block  border mt-3 \">lorem\n                                                        ipsum dolor sit amet. lorem ipsum dolor sit amet\n                                                        lorem ipsum dolor sit amet. lorem ipsum dolor sit\n                                                        amet</span>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-4\"></div>\n                                    </div>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-4\"></div>\n                                        <div class=\"col-md-8 mt-3 pr\">\n                                            <div class=\"\">\n                                                <div>\n                                                    <p class=\"text-end   rounded-pill \"><span\n                                                            class=\" bg-primary text-white p-3 rounded-pill d-inline-block  border mt-3 \">lorem\n                                                            ipsum dolor sit amet.</span> </p>\n                                                    <p class=\"rounded-pill text-end\"><span\n                                                            class=\" bg-primary text-white p-3 rounded-pill d-inline-block  border mt-3 \">lorem\n                                                            ipsum dolor sit amet. lorem ipsum dolor sit amet\n                                                            lorem ipsum dolor sit amet. lorem ipsum dolor sit\n                                                            amet</span> </p>\n                                                    <div class=\"border border-1\">\n                                                        <p class=\"card-header fw-bold text-dark fs-5\"> Professional\n                                                            Cleaning Service</p>\n                                                        <div class=\"card-body\">\n                                                            <p class=\"card-title\">Your Contract includes</p>\n                                                            <p class=\"card-text text-dark\"> <img\n                                                                    src=\"./assets/images/Group2231.png\" alt=\"\"\n                                                                    srcset=\"\"> 10 days delivery</p>\n                                                            <div class=\"text-end\"> <a href=\"#\"\n                                                                    class=\"btn btn-link text-decoration-none text-secondary\">View\n                                                                    Contract</a> <a href=\"#\" class=\"btn\"\n                                                                    style=\"background:#00A3FF; color: white;\"> Withdraw\n                                                                    Contract</a> </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div> -->\n                                        <div class=\"col-md-12\" *ngIf=\"oppositeUser\">\n                                            <div style=\"position: fixed;\n                                           bottom: 0;\n                                           \" class=\"position\">\n                                                <textarea class=\"rounded-0 border-bottom-0 form-control\"\n                                                    placeholder=\"Type a message...\" rows=\"3\"\n                                                    [(ngModel)]=\"messageText\"></textarea>\n                                                <div class=\"card px-3 border-top-0 rounded-0\">\n                                                    <div class=\"d-flex align-items-center\">\n                                                        <!-- <i class=\"bi bi-mic-fill d-inline-block align-bottom\"></i>  -->\n                                                        <i class=\"bi bi-paperclip d-inline-block align-bottom mx-2\"\n                                                            (click)=\"chooseImg()\"></i>\n                                                        <!-- <button class=\"btn btn-sm btn-outline-primary\"\n                                                            *ngIf=\"fetchMessagesRes && fetchMessagesRes.can_send_contract == '1'\"\n                                                            (click)=\"sendContract()\"> -->\n                                                        <button class=\"btn btn-sm btn-outline-primary\"\n                                                            data-bs-toggle=\"modal\" data-bs-target=\"#contractModal\">\n                                                            Send Contacts</button>\n                                                        <i (click)=\"sendMessage()\"\n                                                            class=\"bi bi-send-fill px-2 py-1 rounded-pill  bg-primary ms-auto shadow text-white\"></i>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- <div class=\"tab-pane fade\" id=\"v-pills-profile\" role=\"tabpanel\"\n                                aria-labelledby=\"v-pills-profile-tab\">\n                                <div class=\"border  border-1 px-2 px-md-3   py-4\"> tab2 </div>\n                            </div>\n                            <div class=\"tab-pane fade\" id=\"v-pills-messages\" role=\"tabpanel\"\n                                aria-labelledby=\"v-pills-messages-tab\">\n                                <div class=\" px-2 px-md-3 \"> tab3 </div>\n                            </div>\n                            <div class=\"tab-pane fade\" id=\"v-pills-settings\" role=\"tabpanel\"\n                                aria-labelledby=\"v-pills-settings-tab\"> tab4 </div> -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <div class=\"text-start\">\n        <div class=\"modal fade\" id=\"contractModal\" tabindex=\"-1\" aria-labelledby=\"contractModalLabel\"\n            aria-hidden=\"true\">\n            <div class=\"modal-dialog  modal-xl modal-dialog-centered\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h6 class=\"modal-title\" id=\"contractModalLabel\">\n                            Contract</h6>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n\n                    <form [formGroup]=\"proposalForm\">\n                        <div class=\"mt-5 bg-white rounded-3 px-md-5 py-3\">\n                            <p class=\"fs-2 text-dark\" style=\"font-weight: 500;\">Select a Project to Proposals</p>\n                            <div class=\"\">\n\n                                <div class=\"row\">\n\n                                    <div class=\"col-md-4 col-lg-4 col-sm-4\" *ngFor=\"let s of services\">\n\n                                        <label (click)=\"serviceChoose(s)\">\n                                            <input type=\"radio\" name=\"product\" class=\"card-input-element\" />\n\n                                            <div class=\"panel panel-default card-input\">\n                                                <div class=\"panel-heading\"></div>\n                                                <div class=\"panel-body\">\n                                                    <div class=\"card border-0\"\n                                                        style=\"box-shadow: 4px 4px 20px rgba(206, 187, 187, 0.25); border-radius: 10px;\">\n                                                        <img [src]=\"image_path && s.gallery[0] ? image_path + s.gallery[0].file : ''\"\n                                                            onerror=\"this.src='assets/images/no-image.png';\"\n                                                            class=\"card-img-top\" alt=\"...\">\n                                                        <div class=\"card-body\">\n                                                            <div class=\"row\">\n                                                            </div>\n                                                            <h5 class=\"card-title my-2\">{{s.title}}</h5>\n\n                                                            <a href=\"javascript:void(0);\" class=\"btn btn-sm rounded-0\"\n                                                                style=\"background:#00A3FF; color: white;\">View\n                                                                Profile</a>\n                                                            <button type=\"button\"\n                                                                class=\"btn btn-link text-decoration-none text-muted\"><i\n                                                                    class=\"bi bi-chat-right\"></i> Contact for\n                                                                Price</button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                        </label>\n\n                                    </div>\n\n                                    <div *ngIf=\"submitted && f.service_id.errors\" class=\"invalid-feedback-msg\">\n                                        <div *ngIf=\"f.service_id.errors.required\">Please choose a service</div>\n                                    </div>\n\n                                </div>\n\n                            </div>\n\n                            <div class=\"mt-5\">\n                                <!-- <form> -->\n                                <div class=\"my-4\">\n                                    <label for=\"exampleInputPassword1\" class=\"form-label\">Tell us a bit about this\n                                        project</label>\n                                    <textarea class=\"form-control rounded-0\" placeholder=\"Let us know\"\n                                        id=\"exampleFormControlTextarea1\" rows=\"3\" formControlName=\"body\"\n                                        [ngClass]=\"{ 'is-invalid': submitted && f.body.errors }\"></textarea>\n                                    <div *ngIf=\"submitted && f.body.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"f.body.errors.required\">Tell us a bit about this\n                                            project</div>\n                                    </div>\n                                </div>\n                                <div class=\"mb-4\">\n                                    <label for=\"exampleInputEmail1\" class=\"form-label\">Cost</label>\n                                    <input type=\"number\" formControlName=\"cost\"\n                                        [ngClass]=\"{ 'is-invalid': submitted && f.cost.errors }\" placeholder=\"2000005\"\n                                        class=\"form-control rounded-0\" id=\"exampleInputEmail1\"\n                                        aria-describedby=\"emailHelp\">\n                                    <div *ngIf=\"submitted && f.cost.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"f.cost.errors.required\">Cost required</div>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <div class=\"mb-4\">\n                                            <label for=\"exampleInputEmail1\" class=\"form-label\">Delivery Time</label>\n                                            <select class=\"form-select\" formControlName=\"delivery_time_id\"\n                                                [ngClass]=\"{ 'is-invalid': submitted && f.delivery_time_id.errors }\"\n                                                aria-label=\"Default select example\">\n                                                <option value=\"\" selected>Delivery Time</option>\n                                                <option [value]=\"d.id\" *ngFor=\"let d of deliveryTime\">{{d.name}}\n                                                </option>\n                                            </select>\n\n                                        </div>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <div class=\"mb-4\">\n                                            <label for=\"exampleInputEmail1\" class=\"form-label\">Project Image</label>\n                                            <div class=\"input-group mb-3\">\n                                                <input type=\"file\" (change)=\"importFile($event)\" class=\"form-control\"\n                                                    id=\"inputGroupFile02\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"text-start my-3\">\n                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor dicta\n                                        repellat consequuntur eveniet ducimus. Aut, iusto repellendus molestias at\n                                        tempora itaque doloremque assumenda, laborum tenetur saepe laudantium!\n                                        Rerum, ratione corporis.</p>\n                                    <button (click)=\"sendContract()\" class=\"btn\"\n                                        style=\"background:#00A3FF; color: white;\" type=\"button\"><i\n                                            class=\"bi bi-envelope-fill me-3\"></i>Send Proposals</button>\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <input type=\"file\" id=\"msg-img\" (change)=\"importMsgFile($event)\">\n\n    <!-- <app-footer></app-footer> -->","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ToastrService } from 'ngx-toastr';\nimport { ApiService } from 'src/app/service/api.service';\nimport { PagesService } from 'src/app/service/pages.service';\nimport { UserService } from 'src/app/service/user.service';\n// import { Observable } from 'rxjs/Observable';\ndeclare var $;\n\n@Component({\n  selector: 'app-inbox',\n  templateUrl: './inbox.component.html',\n  styleUrls: ['./inbox.component.css']\n})\nexport class InboxComponent implements OnInit {\n  userId: any;\n  token: any;\n  usersList: any = [];\n  current_user: any;\n  @ViewChild('scrollMe') public myScrollContainer: ElementRef;\n  submitted = false;\n  all_user_unread_message: any;\n  image_path: any;\n\n  constructor(private page: PagesService,\n    private toastr: ToastrService,\n    private apiService: ApiService,\n    private userService: UserService,\n    private formBuilder: FormBuilder) { }\n\n  ngOnInit(): void {\n    this.getProfile().then(() => {\n      this.getMessageConnections().then(() => {\n        this.usersAutoFetch();\n      })\n    })\n    this.userId = localStorage.getItem(\"userId\");\n    this.proposalForm = this.formBuilder.group({\n      body: ['', [Validators.required]],\n      cost: ['', [Validators.required]],\n      delivery_time_id: ['', [Validators.required]],\n      service_id: ['', [Validators.required]]\n    });\n  }\n\n  // image_path: any;\n  profileData: any;\n  async getProfile() {\n    this.token = localStorage.getItem(\"token\");\n    // this.userService.getProfile(this.token).subscribe((res: any) => {\n    //   console.log(res);\n    //   if (res.status) {\n    //     this.image_path  = res.image_path;\n    //     this.profileData = res.response_data;\n    //   }\n    // }, err => {\n    //   console.log(err);\n    // })\n  }\n\n  async getMessageConnections() {\n    let formData = new FormData();\n    this.apiService.messages(this.token, formData).subscribe((res: any) => {\n      console.log(res);\n      if (res) {\n        this.usersList = res.users;\n        this.current_user = res.current_user;\n        this.all_user_unread_message =res.all_user_unread_message;\n        this.image_path = res.image_path;\n      }\n    }, err => {\n      console.log(err);\n    })\n  }\n\n  fetchMessagesDetails: any = [];\n  fetchMessagesRes: any;\n  oppositeUser: any;\n  services: any = [];\n  deliveryTime: any = [];\n  proposalForm: FormGroup;\n  async fetchMessages(user) {\n    console.log(user);\n    this.oppositeUser = user;\n    this.services = user.services ? user.services : [];\n    this.deliveryTime = user.delivery_times ? user.delivery_times : [];\n\n    let formData = new FormData();\n    formData.set(\"fetch_id\", user.id);\n    formData.set(\"connectionid\", user.connection_id);\n    this.apiService.fetchMessages(this.token, formData).subscribe((res: any) => {\n      console.log(res);\n      if (res) {\n        this.fetchMessagesRes = res;\n        this.fetchMessagesDetails = res.messages ? res.messages : [];\n        this.messageAutoFetch();\n        this.scrollToBottom();\n      }\n    }, err => {\n      console.log(err);\n    })\n  }\n\n  messageText: any = '';\n  sendMessage() {\n\n    if (this.fetchMessagesRes.can_chat == 0) {\n      this.toastr.warning(\"You can't message at this moment\");\n      return;\n    }\n    this.scrollToBottom();\n    if (this.messageText) {\n      console.log(this.messageText);\n      console.log(\"oppositeUser\", this.oppositeUser);\n      console.log(\"currentUser\", this.current_user);\n      let formData = new FormData();\n      formData.set(\"receiver_id\", this.oppositeUser.id);\n      formData.set(\"connection_id\", this.oppositeUser.connection_id);\n      formData.set(\"message_type\", '3');\n      formData.set(\"message\", this.messageText);\n      //  formData.set(\"file_name\", );\n\n      this.apiService.postMessage(this.token, formData).subscribe((res: any) => {\n        console.log(res);\n        if (res && res.status == 200) {\n          this.fetchMessages(this.oppositeUser);\n          this.messageAutoFetch();\n          this.messageText = '';\n        }\n      }, err => {\n        console.log(err);\n      });\n    }\n\n  }\n\n  fetchAutoInter: any;\n  messageAutoFetch() {\n    // observable.timer(0,10000)\n    // .takeWhile(() => this.alive) // only fires when component is alive\n    // .subscribe(() => {\n    //   this.appTest.getData().subscribe(data=> {\n    //     console.log(data);\n    //   })\n    // });\n    if (this.fetchAutoInter) {\n      clearInterval(this.fetchAutoInter);\n    }\n    let self = this;\n    this.fetchAutoInter = setInterval(function () {\n      self.fetchMessages(self.oppositeUser);\n    }, 10000);\n  }\n\n  fetchAutoInterUsers: any;\n  usersAutoFetch() {\n    // observable.timer(0,10000)\n    // .takeWhile(() => this.alive) // only fires when component is alive\n    // .subscribe(() => {\n    //   this.appTest.getData().subscribe(data=> {\n    //     console.log(data);\n    //   })\n    // });\n    if (this.fetchAutoInterUsers) {\n      clearInterval(this.fetchAutoInterUsers);\n    }\n    let self = this;\n    this.fetchAutoInterUsers = setInterval(function () {\n      self.getMessageConnections();\n    }, 13000);\n  }\n\n  // alive = true;\n  ngOnDestroy() {\n    console.log(\"Destroy\");\n    // this.alive = false; // switches your IntervalObservable off\n    if (this.fetchAutoInter) {\n      clearInterval(this.fetchAutoInter);\n    }\n    if (this.fetchAutoInterUsers) {\n      clearInterval(this.fetchAutoInterUsers);\n    }\n  }\n\n  scrollToBottom(): void {\n    try {\n      console.log(this.myScrollContainer);\n      console.log(this.myScrollContainer.nativeElement.scrollTop);\n      console.log(this.myScrollContainer.nativeElement.scrollHeight);\n      this.myScrollContainer.nativeElement.scrollTop = 200;\n      this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight;\n      this.myScrollContainer.nativeElement.scroll({\n        top: this.myScrollContainer.nativeElement.scrollHeight,\n        left: 0,\n        behavior: 'smooth'\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  // sendContract() {\n\n  // }\n\n  sendContract() {\n    if (this.fetchMessagesRes.can_chat == 0) {\n      this.toastr.warning(\"You can't send contract at this moment\");\n      return;\n    }\n    this.submitted = true;\n\n    console.log(\"registrationSubmit\", this.proposalForm);\n\n    if (this.proposalForm.invalid) {\n      return;\n    } else {\n      console.log(\"oppositeUser\", this.oppositeUser);\n      console.log(\"currentUser\", this.current_user);\n      let formData = new FormData();\n      formData.set(\"receiver_id\", this.oppositeUser.id);\n      formData.set(\"connection_id\", this.oppositeUser.connection_id);\n      formData.set(\"message_type\", '6');\n\n      // formData.set('job_slug', this.fetchMessagesRes.job.slug);\n      formData.set('service_id', this.proposalForm.value.service_id);\n      // formData.set('id', '0');\n      formData.set('body', this.proposalForm.value.body);\n      formData.set('amount', this.proposalForm.value.cost);\n      formData.set('delivery_time_id', this.proposalForm.value.delivery_time_id);\n\n      if (this.imageLoaded) {\n        formData.set('file', this.image);\n      }\n      // formData.set(\"message\", this.messageText);\n      //  formData.set(\"file_name\", );\n\n      this.apiService.postMessage(this.token, formData).subscribe((res: any) => {\n        console.log(res);\n        if (res && res.status == 200) {\n          this.fetchMessages(this.oppositeUser);\n          this.messageAutoFetch();\n          this.messageText = '';\n          $('#contractModal').modal('hide');\n          this.submitted = false;\n          this.proposalForm.reset();\n        }\n      }, err => {\n        console.log(err);\n      });\n    }\n  }\n\n  acceptContract(contract_id) {\n    console.log(\"oppositeUser\", this.oppositeUser);\n    console.log(\"currentUser\", this.current_user);\n    let formData = new FormData();\n    formData.set(\"receiver_id\", this.oppositeUser.id);\n    formData.set(\"connection_id\", this.oppositeUser.connection_id);\n    formData.set(\"message_type\", '7');\n    formData.set(\"contract_id\", contract_id);\n    //  formData.set(\"file_name\", );\n\n    this.apiService.postMessage(this.token, formData).subscribe((res: any) => {\n      console.log(res);\n      if (res && res.status == 200) {\n        this.fetchMessages(this.oppositeUser);\n        this.messageAutoFetch();\n        this.messageText = '';\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  declineChat() {\n    console.log(\"oppositeUser\", this.oppositeUser);\n    console.log(\"currentUser\", this.current_user);\n    let formData = new FormData();\n    formData.set(\"receiver_id\", this.oppositeUser.id);\n    formData.set(\"connection_id\", this.oppositeUser.connection_id);\n    formData.set(\"message_type\", '11');\n    formData.set(\"message\", 'Decline the request');\n    //  formData.set(\"file_name\", );\n\n    this.apiService.postMessage(this.token, formData).subscribe((res: any) => {\n      console.log(res);\n      if (res && res.status == 200) {\n        this.fetchMessages(this.oppositeUser);\n        this.messageAutoFetch();\n        this.messageText = '';\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  acceptChat() {\n    console.log(\"oppositeUser\", this.oppositeUser);\n    console.log(\"currentUser\", this.current_user);\n    let formData = new FormData();\n    formData.set(\"receiver_id\", this.oppositeUser.id);\n    formData.set(\"connection_id\", this.oppositeUser.connection_id);\n    formData.set(\"message_type\", '10');\n    formData.set(\"message\", \"Request accepted\");\n    //  formData.set(\"file_name\", );\n\n    this.apiService.postMessage(this.token, formData).subscribe((res: any) => {\n      console.log(res);\n      if (res && res.status == 200) {\n        this.fetchMessages(this.oppositeUser);\n        this.messageAutoFetch();\n        this.messageText = '';\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n  get f() { return this.proposalForm.controls; }\n\n  image: any;\n  imageLoaded: any;\n  importFile(event) {\n    if (event.target.files && event.target.files.length > 0) {\n      let files = event.target.files || event.dataTransfer.files;\n      if (!files.length)\n        return;\n      var fileName = files[0].name.toUpperCase();\n      console.log(fileName.endsWith);\n      if (fileName.endsWith(\".JPG\") || fileName.endsWith(\".JPEG\") || fileName.endsWith(\".PNG\")) {\n        this.image = files[0];\n        this.imageLoaded = true;\n      } else {\n        this.image = null;\n        this.toastr.error(\"Please select a valid image file jpeg/jpg/png\");\n      }\n    }\n\n  }\n  serviceChoose(s) {\n    console.log(s);\n    this.proposalForm.patchValue({ \"service_id\": s.id });\n  }\n\n  chooseImg(){\n    $( \"#msg-img\" ).click();\n  }\n  imageMsg: any;\n  imageLoadedMsg: any;\n  importMsgFile(event) {\n    console.log(event);\n    if (event.target.files && event.target.files.length > 0) {\n      let files = event.target.files || event.dataTransfer.files;\n      if (!files.length)\n        return;\n      var fileName = files[0].name.toUpperCase();\n      console.log(fileName.endsWith);\n      if (fileName.endsWith(\".JPG\") || fileName.endsWith(\".JPEG\") || fileName.endsWith(\".PNG\")) {\n        this.imageMsg = files[0];\n        this.imageLoadedMsg = true;\n        if(this.imageMsg){\n          this.sendFileMessage();\n        }\n      } else {\n        this.imageMsg = null;\n        this.toastr.error(\"Please select a valid image file jpeg/jpg/png\");\n      }\n    }\n\n  }\n\n\n//   \"receiver_id=User ID\n// connection_id= Connection ID\n// message_type = Video message=>2, Image=>4, Any other File upload => 5, Normal text => 3 , '6'=>'Send Contract', '7'=>'Accept Contract', '8'=>'Withdraw Contract', '9'=>'Completed Contract', '10'=>'Accept Request', '11'=>'Decline Your Request'\n// message=Message Text\n// file_name = Upload video/image/another file\n// media_file = 1 => If any file send\"\n\n  sendFileMessage() {\n    console.log(\"sendFileMessage\");\n\n    if (this.fetchMessagesRes.can_chat == 0) {\n      this.toastr.warning(\"You can't message at this moment\");\n      return;\n    }\n    this.scrollToBottom();\n    if (this.imageMsg) {\n      console.log(this.imageMsg);\n      console.log(\"oppositeUser\", this.oppositeUser);\n      console.log(\"currentUser\", this.current_user);\n      let formData = new FormData();\n      formData.set(\"receiver_id\", this.oppositeUser.id);\n      formData.set(\"connection_id\", this.oppositeUser.connection_id);\n      formData.set(\"message_type\", '4');\n      formData.set(\"file_name\", this.imageMsg);\n      formData.set(\"media_file\", '1');\n      formData.set(\"message\", this.imageMsg);\n      //  formData.set(\"file_name\", );\n\n      this.apiService.postMessage(this.token, formData).subscribe((res: any) => {\n        console.log(res);\n        if (res && res.status == 200) {\n          this.fetchMessages(this.oppositeUser);\n          this.messageAutoFetch();\n          // this.messageText = '';\n        }\n      }, err => {\n        console.log(err);\n      });\n    }\n\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { InboxRoutingModule } from './inbox-routing.module';\nimport { InboxComponent } from './inbox.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IncludeModule } from 'src/app/includes/include.module';\n\n\n@NgModule({\n  declarations: [InboxComponent],\n  imports: [\n    CommonModule,\n    InboxRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IncludeModule\n  ]\n})\nexport class InboxModule { }\n"]}